{"ast":null,"code":"import _taggedTemplateLiteral from\"E:/Sankey_Project/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from'react';import{useQuery,gql}from'@apollo/client';import UserForm from'./UserForm';import DeleteButton from'./DeleteButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GET_USERS=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query GetUsers {\\n    users {\\n      id\\n      username\\n      email\\n      role\\n    }\\n  }\\n\"])));const UserList=()=>{const{loading,error,data}=useQuery(GET_USERS);const[selectedUser,setSelectedUser]=useState(null);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]});const handleEdit=user=>{setSelectedUser(user);};const handleDelete=()=>{setSelectedUser(null);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User List\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:user.username}),/*#__PURE__*/_jsx(\"span\",{children:user.email}),/*#__PURE__*/_jsx(\"span\",{children:user.role}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(user),children:\"Edit\"}),/*#__PURE__*/_jsx(DeleteButton,{id:user.id,onDelete:handleDelete})]},user.id))}),/*#__PURE__*/_jsx(\"h2\",{children:selectedUser?'Edit User':'Create User'}),/*#__PURE__*/_jsx(UserForm,{user:selectedUser})]});};export default UserList;","map":{"version":3,"names":["React","useState","useQuery","gql","UserForm","DeleteButton","jsx","_jsx","jsxs","_jsxs","GET_USERS","_templateObject","_taggedTemplateLiteral","UserList","loading","error","data","selectedUser","setSelectedUser","children","message","handleEdit","user","handleDelete","users","map","username","email","role","onClick","id","onDelete"],"sources":["E:/Sankey_Project/src/components/UserList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery, gql } from '@apollo/client';\r\nimport UserForm from './UserForm';\r\nimport DeleteButton from './DeleteButton';\r\n\r\nconst GET_USERS = gql`\r\n  query GetUsers {\r\n    users {\r\n      id\r\n      username\r\n      email\r\n      role\r\n    }\r\n  }\r\n`;\r\n\r\nconst UserList = () => {\r\n  const { loading, error, data } = useQuery(GET_USERS);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error: {error.message}</p>;\r\n\r\n  const handleEdit = user => {\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    setSelectedUser(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>User List</h2>\r\n      <ul>\r\n        {data.users.map(user => (\r\n          <li key={user.id}>\r\n            <span>{user.username}</span>\r\n            <span>{user.email}</span>\r\n            <span>{user.role}</span>\r\n            <button onClick={() => handleEdit(user)}>Edit</button>\r\n            <DeleteButton id={user.id} onDelete={handleDelete} />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <h2>{selectedUser ? 'Edit User' : 'Create User'}</h2>\r\n      <UserForm user={selectedUser} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n"],"mappings":"2IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,CAAEC,GAAG,KAAQ,gBAAgB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,SAAS,CAAGP,GAAG,CAAAQ,eAAA,GAAAA,eAAA,CAAAC,sBAAA,0GASpB,CAED,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,OAAO,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAGd,QAAQ,CAACQ,SAAS,CAAC,CACpD,KAAM,CAACO,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAEtD,GAAIa,OAAO,CAAE,mBAAOP,IAAA,MAAAY,QAAA,CAAG,YAAU,CAAG,CAAC,CACrC,GAAIJ,KAAK,CAAE,mBAAON,KAAA,MAAAU,QAAA,EAAG,SAAO,CAACJ,KAAK,CAACK,OAAO,EAAI,CAAC,CAE/C,KAAM,CAAAC,UAAU,CAAGC,IAAI,EAAI,CACzBJ,eAAe,CAACI,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBL,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,mBACET,KAAA,QAAAU,QAAA,eACEZ,IAAA,OAAAY,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBZ,IAAA,OAAAY,QAAA,CACGH,IAAI,CAACQ,KAAK,CAACC,GAAG,CAACH,IAAI,eAClBb,KAAA,OAAAU,QAAA,eACEZ,IAAA,SAAAY,QAAA,CAAOG,IAAI,CAACI,QAAQ,CAAO,CAAC,cAC5BnB,IAAA,SAAAY,QAAA,CAAOG,IAAI,CAACK,KAAK,CAAO,CAAC,cACzBpB,IAAA,SAAAY,QAAA,CAAOG,IAAI,CAACM,IAAI,CAAO,CAAC,cACxBrB,IAAA,WAAQsB,OAAO,CAAEA,CAAA,GAAMR,UAAU,CAACC,IAAI,CAAE,CAAAH,QAAA,CAAC,MAAI,CAAQ,CAAC,cACtDZ,IAAA,CAACF,YAAY,EAACyB,EAAE,CAAER,IAAI,CAACQ,EAAG,CAACC,QAAQ,CAAER,YAAa,CAAE,CAAC,GAL9CD,IAAI,CAACQ,EAMV,CACL,CAAC,CACA,CAAC,cACLvB,IAAA,OAAAY,QAAA,CAAKF,YAAY,CAAG,WAAW,CAAG,aAAa,CAAK,CAAC,cACrDV,IAAA,CAACH,QAAQ,EAACkB,IAAI,CAAEL,YAAa,CAAE,CAAC,EAC7B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}